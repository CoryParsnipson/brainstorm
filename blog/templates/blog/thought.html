{% extends 'blog/templates/template_default.html' %}
{% load staticfiles %}

{% block http_headers %}
<link rel="stylesheet" type="text/css" href="{% static 'css/idea.css' %}">
{% endblock %}

{% block content %}
<p class="idea"><a href="{% url 'idea-page' thought.idea.slug %}">{{ thought.idea }}</a></p>
<p class="title">{{ thought.title }} {% if thought.is_draft %}[Draft]{% endif %}</p>
<p class="subtitle">by {{ thought.author }} on {{ thought.date_published }}
    {% if not thought.date_published == thought.date_edited %}
    (Edited {{ thought.date_edited|date:"F j, Y g:i A" }})
    {% endif %}
</p>

{% if thought.preview %}
<img src="{{ thought.preview.url }}">
{% else %}
<img src="{{ thought.idea.icon.url }}">
{% endif %}

<p>{{ thought.content|safe }}</p>

<p>[Comments section]</p>
{% endblock %}

{% block side %}
{% if next_thoughts %}
<table class="thought-nav">
    <tbody>
    <tr><th>Next</th></tr>
    {% for next_thought in next_thoughts reversed %}
    <tr>
        <td><a href="{% url 'thought-page' next_thought.idea.slug next_thought.slug %}">{{ next_thought.title }}</a></td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endif %}

{% if next_thoughts and prev_thoughts %}<hr>{% endif %}

<table class="thought-nav">
    <tbody>
    <tr><th>Previous</th></tr>
    {% for prev_thought in prev_thoughts reversed %}
    <tr>
        <td>
            <img src="{{ prev_thought.get_preview|default_if_none:thought.idea.icon.url }}">
            <p>
                <a href="{% url 'thought-page' prev_thought.idea.slug prev_thought.slug %}">{{ prev_thought.title }}</a>
            </p>
        </td>
    </tr>
    {% empty %}
    <tr><th>This is the Earliest Thought.</th></tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}

{% block footer %}
I dunno, like some kind of calendar/content timeline visualization of Thoughts in this Idea?
{% endblock %}